## Installation

This website only requires PHP. Just clone or copy the repository into a web-enabled folder and it should work without any initialization or configuration.

## Service and User Management

To manage the services and users, the website employs a Content Management System (CMS). It is located in the folder `/cms`.

### Users

There are two levels of users: admin and member.

The admin user has total control over all services and all member users. The admin username is `cmsadmin` and the default password is `1234`, and the password can (and should) be changed to something else. The member user has total control over an existing service that is tied to that member account.

To creating a member user so an organization can modify their own service information, follow these steps:

1. The organization contact requests from the admin a user account for a service.
1. If the service does not yet exist, the admin chooses `Add a Service` and fills out any information on the service.
1. The admin then chooses `Create/Reset User` and selects the service.
1. The admin gives the organization contact the username and password.
1. The organization contact can then login via the CMS and modify their service information and change their password.

If the organization contact requests a new password from the admin because they lost their password or their user account was compromised, they can follow steps above. They will not lose any existing information in their service.

If the admin user loses their password, the only way to reset the password is go into `/cms/ps.txt` and delete the line that begins with `cmsadmin`. On the next login, the password will be reset to the default password.

## Database

The database is in the file `data/database.txt` in the CSV format. The fields are as follows:

* **id** - A unique identification number. This is not visible to anyone but CMS users. Generated by the CMS, not by the user.
* **name** - The displayed name.
* **short_description** - A short description.
* **long_description** - A longer description that is visible when *read more* is chosen.
* **address** - The full address of the service. This is used to calculate the lat/lon fields.
* **point_of_contact** - The name of a person who user can call.
* **phone_1** - A phone number in the format (###) ###-####.
* **phone_2** - A second phone number.
* **phone_3** - A third phone number.
* **email_1** - An e-mail contact.
* **email_2** - A second e-mail contact.
* **email_3** - A third e-mail contact.
* **website** - A URL to the website. The user will be able to click on the link to go directly to the website.
* **hours** - The hours that the service is open. It is formatted as time ranges, one for each day, separated by commas. Each time range is in the format HHMM-HHMM, representing the hours and minutes (in 24-hour time) that the service opens and closes. A time of 0000-0000 means it is closed that entire day.
* **extra_info** - Any extra information that doesn't fit into the descriptions.
* **spanish_short_description** - A spanish version of the short description.
* **spanish_long_description** - A spanish version of the long description.
* **categories** - A comma separated list of categories that the service belongs to.
* **lat** - The latitude in degrees (+ is north) of the service. Used to map the service. Generated by the CMS, not by the user.
* **lon** - The longitude in degrees (+ is west) of the service. Used to map the service. Generated by the CMS, not by the user.
